var topFlourish,codeElement,header,headerTop,flourishHeght,navItems,headerHeight,attachHeader=function(){var e=document.documentElement.scrollTop||window.scrollY,t=e/document.querySelector("html").offsetHeight*codeElement.offsetHeight;topFlourish.scrollTop=t,console.log(e-headerTop),e>=headerTop-1?(header.classList.add("header-fixed"),topFlourish.classList.add("in-menu"),document.querySelector("body").style.marginTop=headerHeight+"px"):(header.classList.remove("header-fixed"),topFlourish.classList.remove("in-menu"),document.querySelector("body").style.marginTop="0px")},scrollIntoView=function(e,t){var o=window.scrollY,r=e-o,n=0,a=20,d=function(){n+=a;var e=Math.easeInOutQuad(n,o,r,t);window.scrollTo(0,e),t>n&&setTimeout(d,a)};d()};Math.easeInOutQuad=function(e,t,o,r){return e/=r/2,1>e?o/2*e*e+t:(e--,-o/2*(e*(e-2)-1)+t)};var setActiveNavItem=function(){var e=document.documentElement.scrollTop||window.scrollY,t=e+window.innerHeight/2;Array.prototype.forEach.call(navItems,function(e){var o=document.querySelector("."+e.getAttribute("target")),r=o.offsetTop,n=o.offsetTop+o.offsetHeight;t>r&&n>t?e.parentNode.classList.add("header__nav-item--active"):e.parentNode.classList.remove("header__nav-item--active")})},readyFunction=function(){topFlourish=document.querySelector(".top-flourish"),codeElement=document.querySelector("code"),header=document.querySelector("header"),navItems=document.querySelectorAll(".header__nav-item a"),headerTop=header.offsetTop,flourishHeght=topFlourish.offsetHeight,headerHeight=header.offsetHeight,Array.prototype.forEach.call(navItems,function(e){"ontouchstart"in document.documentElement||e.parentNode.classList.add("header__nav-item--no-touch"),e.addEventListener("click",function(t){t.preventDefault();var o=document.querySelector("."+e.getAttribute("target"));scrollIntoView(o.offsetTop-headerHeight,500)})}),setActiveNavItem(),window.addEventListener("scroll",function(e){attachHeader(),setActiveNavItem();window.scrollY})};"loading"!=document.readyState?readyFunction():document.addEventListener("DOMContentLoaded",readyFunction);